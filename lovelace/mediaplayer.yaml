# Lovelace-UI file for Home Assistant, Media player view
# Type: Home Assistant yaml file
# Date: 30-03-2019
# Author: R.Bisschops
#
# Changelog:
# V1.0.0:  First version
# V1.1.0:  Added Tradfri switch to replace domo entertainment switch  
# V1.2.0:  Added buttons for media center modes
# V1.3.0:  Added conditional buttons for Radio and Television
# V1.3.1:  Added one empty row under media mode selector (unconditional), saves code
# V1.4.0:  Implemented decluttering-card for buttons

title: Media
icon: 'mdi:television'
background: "#e3e3e3"
cards:
  ## Selection part for media modes.
  - type: vertical-stack
    cards:
    ## Mode selection, first row 
    - type: horizontal-stack
      cards:
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.television 
            - name: Televisie 
            - icon: television
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.netflix 
            - name: Netflix 
            - icon: netflix
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.spotify 
            - name: Spotify 
            - icon: spotify
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.smarttv
            - name: Smart-TV 
            - icon: television
    ## Mode selection, second row
    - type: horizontal-stack
      cards:
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.mediaplayer 
            - name: Mediaspeler 
            - icon: movie
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.appletv 
            - name: Apple-TV 
            - icon: apple
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.radio 
            - name: Radio 
            - icon: radio
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.music
            - name: Muziek 
            - icon: music
    ## Mode selection, third row
    - type: horizontal-stack
      cards:
        - type: custom:decluttering-card
          template: media_button_large
          variables:
            - entity: input_boolean.dvd
            - name: DVD
            - icon: movie
        - type: custom:decluttering-card
          template: media_button_large
          variables:
            - entity: input_boolean.teletext
            - name: Teletext
            - icon: comment-text-outline
        - type: custom:button-card
          color_type: blank-card
        - type: custom:decluttering-card
          template: media_button_large
          variables: 
            - entity: input_boolean.poweroff
            - name: Uit
            - icon: power

    ## Conditional buttons. 1st row (empty as seperator)
    - type: horizontal-stack
      cards: 
        - type: custom:button-card
          color_type: blank-card

    ## Conditional buttons for Television
    - type: conditional
      conditions:
        - entity: 'switch.television'
          state: 'on' 
      card:
        type: vertical-stack
        cards:
          ## Conditional buttons for television. 1st row (empty as seperator)
          - type: horizontal-stack
            cards: 
              - type: custom:button-card
                color_type: blank-card
          ## Conditional buttons for Televion. 2nd row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: volume-plus
                  - device: Versterker
                  - command: VolumeUp
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 1 
                  - device: Humax
                  - command: 1
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 2
                  - device: Humax
                  - command: 2
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 3
                  - device: Humax
                  - command: 3
              - type: custom:decluttering-card
                template: media_button_small_text_2
                variables:
                  - switch: television
                  - name: CH+
                  - device: Humax
                  - command: ChannelUp
          ## Conditional buttons for Televion. 3rd row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: volume-minus
                  - device: Versterker
                  - command: VolumeDown
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 4 
                  - device: Humax
                  - command: 4
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 5
                  - device: Humax
                  - command: 5
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 6
                  - device: Humax
                  - command: 6
              - type: custom:decluttering-card
                template: media_button_small_text_2
                variables:
                  - switch: television
                  - name: CH1
                  - device: Humax
                  - command: ChannelDown
          ## Conditional buttons for Televion. 4th row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: volume-mute
                  - device: Versterker
                  - command: Mute
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 7 
                  - device: Humax
                  - command: 7
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 8
                  - device: Humax
                  - command: 8
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: 9
                  - device: Humax
                  - command: 9
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: television
                  - name: Dolby PLII
                  - device: Versterker
                  - command: ModeDolbyPLII
          ## Conditional buttons for Televion. 5th row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: television
                  - name: TV/Radio
                  - device: Humax
                  - command: TvRadio
              - type: conditional
                conditions:
                  - entity: switch.television
                    state: 'on'
                card:    
                  type: custom:button-card
                  color_type: blank-card
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: television
                  - name: '0'
                  - device: Humax
                  - command: 0
              - type: conditional
                conditions:
                  - entity: switch.television
                    state: 'on'
                card:    
                  type: custom:button-card
                  color_type: blank-card
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: television
                  - name: DTS
                  - device: Versterker
                  - command: ModeDolbyPLIICinema
          ## Conditional buttons for Televion. 6th row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: rewind
                  - device: Humax
                  - command: Rewind
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: pause
                  - device: Humax
                  - command: Pause
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: play
                  - device: Humax
                  - command: Play
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: television
                  - icon: fast-forward
                  - device: Humax
                  - command: FastForward

    ## Conditional buttons for Netflix
    - type: conditional
      conditions:
        - entity: 'switch.netflix'
          state: 'on' 
      card:
        type: vertical-stack
        cards:
          ## Conditional buttons for television. 1st row (empty as seperator)
          - type: horizontal-stack
            cards: 
              - type: custom:button-card
                color_type: blank-card
          ## Conditional buttons for Televion. 2nd row

          ## Conditional buttons for Televion. 3rd row

          ## Conditional buttons for Televion. 4th row

          ## Conditional buttons for Televion. 5th row

          ## Conditional buttons for Televion. 6th row

    ## Conditional buttons for Radio
    - type: conditional
      conditions:
        - entity: 'switch.radio'
          state: 'on' 
      card:
        type: vertical-stack
        cards:
          ## Conditional buttons for radio. 1st row (empty as seperator)
          - type: horizontal-stack
            cards: 
              - type: custom:button-card
                color_type: blank-card
          ## Conditional buttons for Radio. 2nd row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: radio
                  - icon: volume-plus
                  - device: Versterker
                  - command: VolumeUp
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 1 
                  - device: Humax
                  - command: 1
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 2
                  - device: Humax
                  - command: 2
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 3
                  - device: Humax
                  - command: 3
              - type: custom:decluttering-card
                template: media_button_small_text_2
                variables:
                  - switch: radio
                  - name: CH+
                  - device: Humax
                  - command: ChannelUp
          ## Conditional buttons for Radio. 3rd row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: radio
                  - icon: volume-minus
                  - device: Versterker
                  - command: VolumeDown
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 4 
                  - device: Humax
                  - command: 4
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 5
                  - device: Humax
                  - command: 5
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 6
                  - device: Humax
                  - command: 6
              - type: custom:decluttering-card
                template: media_button_small_text_2
                variables:
                  - switch: radio
                  - name: CH1
                  - device: Humax
                  - command: ChannelDown
          ## Conditional buttons for Radio. 4th row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_icon
                variables:
                  - switch: radio
                  - icon: volume-mute
                  - device: Versterker
                  - command: Mute
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 7 
                  - device: Humax
                  - command: 7
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 8
                  - device: Humax
                  - command: 8
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: 9
                  - device: Humax
                  - command: 9
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: radio
                  - name: Stereo
                  - device: Versterker
                  - command: ModeStereo
          ## Conditional buttons for Radio. 5th row
          - type: horizontal-stack
            cards: 
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: radio
                  - name: TV/Radio
                  - device: Humax
                  - command: TvRadio
              - type: conditional
                conditions:
                  - entity: switch.radio
                    state: 'on'
                card:    
                  type: custom:button-card
                  color_type: blank-card
              - type: custom:decluttering-card
                template: media_button_small_text_1
                variables:
                  - switch: radio
                  - name: '0'
                  - device: Humax
                  - command: 0
              - type: conditional
                conditions:
                  - entity: switch.radio
                    state: 'on'
                card:    
                  type: custom:button-card
                  color_type: blank-card
              - type: custom:decluttering-card
                template: media_button_small_text_3
                variables:
                  - switch: radio
                  - name: Direct
                  - device: Versterker
                  - command: ModeDirect

  ## Additional selectors and information stack  
  - type: vertical-stack
    cards:
    - type: entities
      show_state: false
      show_name: false
      show_header_toggle: false
      title: Media Center
      entities:
        - type: section
          label: Afstandsbediening
        - entity: remote.bisschops
        - type: section
          label: Instellingen
        - entity: input_select.harmony_livingroom
        - entity: input_select.test_old_status
        - type: section
          label: Homeassistant entities
        - entity: switch.tradfri_media_switch
        - entity: input_boolean.enable_media_buttons
        - entity: timer.media_center_delay
        - type: section
          label: Schakelaars Harmony
        - entity: switch.television
        - entity: switch.smarttv
        - entity: switch.netflix
        - entity: switch.spotify
        - entity: switch.mediaplayer
        - entity: switch.appletv
        - entity: switch.radio
        - entity: switch.music
        - entity: switch.poweroff

###############################################################
# Code kept for reference:
        # - type: custom:button-card
        #   entity: input_boolean.television
        #   icon: mdi:television
        #   size: 40%
        #   color_type: card
        #   color: rgb(255, 131, 0)
        #   action: toggle
        #   name: Televisie
        #   style:
        #     - font-size: 1.2em
        #     - font-weight: normal
        #     - border-radius: 10px

        # - type: conditional
        #   conditions:
        #     - entity: switch.radio
        #       state: 'on'
        #   card:
        #     type: custom:button-card
        #     color_type: card
        #     color: rgb(84, 84, 84)            
        #     action: service
        #     service:
        #       domain: remote
        #       action: send_command
        #       data: 
        #         entity_id: remote.bisschops
        #         device: Versterker
        #         command: 'VolumeUp'
        #     icon: mdi:volume-plus
        #     size: 80% 
        #     style:
        #       - height: 40px

        # - type: conditional
        #   conditions:
        #     - entity: switch.radio
        #       state: 'on'
        #   card:
        #     type: custom:button-card
        #     color_type: card
        #     color: rgb(255, 131, 0)            
        #     action: service
        #     service:
        #       domain: remote
        #       action: send_command
        #       data: 
        #         entity_id: remote.bisschops
        #         device: Humax
        #         command: '1'
        #     name: '1'
        #     style:
        #       - font-size: 2.0em
        #       - font-weight: normal
        #       - height: 40px

        # - type: conditional
        #   conditions:
        #     - entity: switch.radio
        #       state: 'on'
        #   card:
        #     type: custom:button-card
        #     color_type: card
        #     color: rgb(84, 84, 84)            
        #     action: service
        #     service:
        #       domain: remote
        #       action: send_command
        #       data: 
        #         entity_id: remote.bisschops
        #         device: Humax
        #         command: 'ChannelUp'
        #     name: 'CH+'
        #     style:
        #       - font-size: 1.5em
        #       - font-weight: normal
        #       - height: 40px